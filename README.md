# Research Agent

An AI-powered research assistant that analyzes academic papers and provides comprehensive analysis reports.

## Features

- PDF and URL processing capabilities
- Comprehensive paper analysis:
  - Validity assessment
  - Credibility checking
  - Retraction verification
  - Counter-argument identification
  - Summary generation
  - Confidence scoring
- Multiple PDF processing methods (pdfplumber with PyPDF2 fallback)
- Configurable logging levels for debugging
- Automatic metadata extraction
- Google Scholar integration for citation analysis
- CrossRef integration for paper verification

## Setup

1. Clone the repository:
```bash
git clone [repository-url]
cd researchAgent
```

2. Install dependencies:
```bash
pip install -r requirements.txt
```

3. Create a `.env` file in the project root with your API credentials:
```env
OPENAI_API_KEY=your_openai_api_compatable_key
OPENAI_API_BASE=the base url of your openai api
OPENAI_MODEL_NAME=the modeel you want to use
```

## Usage

Basic usage example:
```python
from research_agent import ResearchAgent

# Initialize the agent (debug=True for detailed logging)
agent = ResearchAgent(debug=False)

# Analyze a PDF paper
pdf_path = "path/to/your/paper.pdf"
report = agent.analyze_paper(pdf_path)

# Print the analysis report
print(report)
```

For a complete example, see `example.py`.

## Debugging

The agent supports different logging levels:
- Set `debug=True` when initializing ResearchAgent for detailed logging
- Set `debug=False` for production-level logging (INFO and above)
- Logs are written to both console and 'research_agent.log'
- Log files are automatically rotated (max 5 files of 1MB each)

## Dependencies

Key dependencies include:
- langchain-core, langchain-openai, langchain-community: For LLM integration
- PyPDF2 & pdfplumber: For PDF processing
- scholarly: For Google Scholar integration
- habanero: For CrossRef integration
- nltk: For text processing
- beautifulsoup4: For web scraping
- pandas: For data handling

See `requirements.txt` for complete list with versions.

## Error Handling

The agent includes comprehensive error handling:
- PDF processing fallback mechanisms
- API call error recovery
- Detailed error logging
- Graceful degradation for unavailable services

## Contributing

1. Fork the repository
2. Create a feature branch
3. Commit your changes
4. Push to the branch
5. Create a Pull Request

## License

MIT License

## Example Output

Below is an example of the analysis report generated by the Research Agent:

```json
{
   "report":"**Comprehensive Research Paper Analysis Report**\n\n**1. Basic Information**\n\n* Title: Development of Better Aptamers: Structured Library Approaches, Selection Methods, and Chemical Modifications\n* Publication Year: 2024\n* Journal: Angew Chem Int Ed\n\n**2. Validity Assessment**\n\nThe validity assessment of the paper is based on the provided analysis, which evaluates the research methodology, sample size and selection, statistical methods, potential biases, data handling and processing, and conclusion validity.\n\n* Research Methodology: 1/10 (The paper does not explicitly describe a research methodology, as it appears to be a review article rather than an original research paper.)\n* Sample Size and Selection: N/A (As this is a review article, there is no sample size or selection to evaluate.)\n* Statistical Methods: N/A (There are no statistical methods to evaluate, as the paper does not present original data or results.)\n* Potential Biases: 6/10 (The paper appears to be a comprehensive review of the literature on aptamers, but there are some potential biases to consider, such as selective citation of studies that support the authors' views.)\n* Data Handling and Processing: N/A (As this is a review article, there is no original data to handle or process.)\n* Conclusion Validity: 7/10 (The paper provides a comprehensive overview of the development and applications of aptamers, but there are some limitations to consider, such as the potential for selective citation of studies that support the authors' views.)\n\n**3. Credibility Analysis**\n\nThe credibility analysis of the paper is based on the provided analysis, which evaluates the publication information, crossref data, and citation count.\n\n* Publication Information: None\n* Crossref Data: None\n* Citation Count: None\n\n**4. Retraction Status**\n\nThe retraction status of the paper is based on the provided analysis, which evaluates the metadata and potential signs of retraction or major corrections.\n\n* Retraction Status: Based on the provided metadata, there are no explicit signs of retraction or major corrections.\n* Concerns: The lack of information and limited metadata might not provide a complete picture of the paper's status.\n\n**5. Scientific Context**\n\nThe scientific context of the paper is based on the provided analysis, which evaluates the counterarguments and conflicting evidence from other research.\n\n* Counterarguments:\n\t+ Potential weaknesses in methodology, such as the lack of standardization in SELEX protocols and limited discussion of aptamer stability and shelf-life.\n\t+ Alternative interpretations of results, such as the potential for aptamer cross-reactivity or non-specific binding.\n\t+ Conflicting evidence from other research, such as the challenges associated with delivering aptamers to their target sites and the potential for adverse effects.\n* Conflicting Evidence:\n\t+ Some studies have reported that aptamers can be prone to degradation or denaturation, which may affect their stability and shelf-life.\n\t+ Other research has highlighted the challenges associated with delivering aptamers to their target sites, including issues with cellular uptake, tissue penetration, and targeting specificity.\n\n**6. Paper Summary**\n\nThe paper provides a comprehensive overview of the development and applications of aptamers, including structured library approaches, SELEX methodologies, and chemical modifications. The authors highlight the importance of aptamers in various fields, including medicine and environmental monitoring, and discuss recent successes and challenges in the field.\n\n**7. Agent's Conclusion**\n\nThe agent's conclusion is based on the provided analysis, which evaluates the paper's validity, credibility, and scientific context.\n\n* The paper provides a comprehensive overview of the development and applications of aptamers, but there are some limitations to consider, such as the potential for selective citation of studies that support the authors' views.\n* The paper's credibility is limited by the lack of publication information, crossref data, and citation count.\n* The scientific context of the paper is complex, with counterarguments and conflicting evidence from other research highlighting the need for further investigation and consideration of these aspects.\n\n**8. Sources**\n\nThe sources used in this report include the provided analysis and the paper itself.\n\n* Analysis: Validity assessment, credibility analysis, retraction status, scientific context, and paper summary.\n* Paper: Development of Better Aptamers: Structured Library Approaches, Selection Methods, and Chemical Modifications.",
   "metadata":{
      "/Creator":"ima-serverÂ®",
      "/ModDate":"D:20241115012431-08'00'",
      "/CreationDate":"D:20240321110626+01'00'",
      "/Producer":"PDFlib+PDI 9.0.7p3 (C++/Win64); modified using iText 4.2.0 by 1T3XT",
      "/Subject":"Angew Chem Int Ed 2024.63:e202318665",
      "/WPS-PROCLEVEL":"3",
      "/WPS-JOURNALDOI":"10.1002/(ISSN)1521-3773",
      "/PrintEngine":"Servigistics Arbortext Advanced Print Publisher 11.1.4546/W Library-x64",
      "/Title":"Development of Better Aptamers: Structured Library Approaches, Selection Methods, and Chemical Modifications",
      "/EPSprocessor":"PStill version 1.84.42",
      "/WPS-ARTICLEDOI":"10.1002/anie.202318665"
   },
   "analyses":{
      "validity":{
         "validity_assessment":"**Research Methodology (1/10)**\n\nThe paper does not explicitly describe a research methodology, as it appears to be a review article rather than an original research paper. The authors provide an overview of the development of aptamers, their advantages, and their applications, but they do not describe a specific research design or methodology. Therefore, it is challenging to evaluate the validity of the research methodology.\n\n**Sample Size and Selection (N/A)**\n\nAs this is a review article, there is no sample size or selection to evaluate. The authors do not present original data or results, but rather summarize and discuss existing research on aptamers.\n\n**Statistical Methods (N/A)**\n\nThere are no statistical methods to evaluate, as the paper does not present original data or results. The authors do not perform any statistical analyses or modeling.\n\n**Potential Biases (6/10)**\n\nThe paper appears to be a comprehensive review of the literature on aptamers, and the authors provide a balanced discussion of the advantages and limitations of aptamers. However, there are some potential biases to consider:\n\n* The authors may have selectively cited studies that support their views on the potential of aptamers.\n* The paper focuses primarily on the benefits of aptamers, with less discussion of their limitations and challenges.\n* The authors may have a vested interest in promoting the use of aptamers, as they are researchers in the field.\n\n**Data Handling and Processing (N/A)**\n\nAs this is a review article, there is no original data to handle or process. The authors summarize and discuss existing research, but they do not present new data or results.\n\n**Conclusion Validity (7/10)**\n\nThe paper provides a comprehensive overview of the development and applications of aptamers, and the authors' conclusions are generally well-supported by the existing literature. However, there are some limitations to consider:\n\n* The authors' conclusions may be influenced by their selective citation of studies that support their views.\n* The paper does not provide a critical evaluation of the limitations and challenges of aptamers.\n* The authors may have overstated the potential of aptamers in certain applications.\n\nOverall, the paper provides a useful overview of the literature on aptamers, but it is essential to consider the potential biases and limitations when evaluating the validity of the authors' conclusions.",
         "confidence_score":0.8
      },
      "credibility":{
         "publication_info":"None",
         "crossref_data":"None",
         "citation_count":"None"
      },
      "retractions":{
         "retraction_status":"Based on the provided paper information, there are no explicit signs of retraction or major corrections. Here\\'s a detailed analysis:\n\n1. **No retraction notice**: There is no indication of a retraction notice in the provided metadata. Typically, retracted papers are marked with a clear notice, such as \"Retracted\" or \"Withdrawn,\" in the title or metadata.\n\n2. **No correction notice**: Similarly, there is no indication of a correction notice. Corrections are usually marked with a notice, such as \"Erratum\" or \"Corrigendum,\" in the metadata or title.\n\n3. **DOI is present**: The paper has a valid Digital Object Identifier (DOI), which suggests that it has been officially published and is part of the scholarly record.\n\n4. **Journal and publication information**: The metadata includes the journal title, \"Angew Chem Int Ed,\" and the publication year, 2024, which suggests that the paper has been published in a reputable scientific journal.\n\n5. **No anomalies in metadata**: The metadata appears to be consistent with typical metadata for a published paper. There are no unusual or suspicious entries that might indicate a problem with the paper\\'s status.\n\nConcerns:\n\n1. **Lack of information**: The provided metadata is limited, and it\\'s possible that there might be additional information available that could indicate a retraction or correction.\n\n2. **No access to the full paper**: Without access to the full paper, it\\'s impossible to assess the paper\\'s content and determine if there are any issues that might have led to a retraction or correction.\n\nIn conclusion, based on the provided metadata, there are no explicit signs of retraction or major corrections. However, it\\'s essential to note that the lack of information and limited metadata might not provide a complete picture of the paper\\'s status. To confirm the paper\\'s status, it\\'s recommended to:\n\n* Check the journal\\'s website or online archives for any retraction or correction notices.\n* Search for the paper\\'s DOI on the publisher\\'s website or a citation database, such as Crossref or PubMed, to see if there are any updates or notices.\n* Contact the journal or publisher directly to inquire about the paper\\'s status.\n\nIf you have access to the full paper or more information, it\\'s essential to review it carefully to assess its content and determine if there are any concerns or issues that might have led to a retraction or correction."
      },
      "counter_arguments":{
         "counter_arguments":"**Analysis of the Paper: \"Development of Better Aptamers: Structured Library Approaches, Selection Methods, and Chemical Modifications\"**\n\n**1. Potential weaknesses in methodology:**\n\n1. **Lack of standardization in SELEX protocols**: The paper reviews various SELEX methodologies, but it does not provide a comprehensive comparison of their effectiveness. Standardization of SELEX protocols would facilitate the comparison of results across different studies.\n2. **Limited discussion of aptamer stability and shelf-life**: Although the paper mentions the advantages of aptamers, including their stability and extended shelf-life, it does not provide a detailed analysis of these aspects. A more thorough discussion of aptamer stability and shelf-life would be beneficial.\n3. **Insufficient consideration of aptamer delivery systems**: The paper focuses on the development of aptamers, but it does not adequately address the challenges associated with delivering these molecules to their target sites. A more comprehensive discussion of aptamer delivery systems would be necessary to fully appreciate their therapeutic potential.\n4. **Overemphasis on in vitro selection**: The paper primarily focuses on in vitro selection methods, which may not accurately reflect the complexities of in vivo environments. A more balanced approach, incorporating both in vitro and in vivo selection methods, would provide a more comprehensive understanding of aptamer development.\n\n**2. Alternative interpretations of results:**\n\n1. **Aptamer specificity and selectivity**: The paper highlights the high specificity and selectivity of aptamers, but it does not discuss the potential for aptamer cross-reactivity or non-specific binding. Alternative interpretations of aptamer specificity and selectivity should consider these limitations.\n2. **Therapeutic potential of aptamers**: The paper presents Avacincaptad pegol as a successful example of an aptamer-based therapeutic, but it does not provide a detailed analysis of the clinical trial data. Alternative interpretations of the therapeutic potential of aptamers should consider the limitations of the clinical trial data and the potential for adverse effects.\n3. **Aptamer-based diagnostics**: The paper discusses the potential of aptamer-based diagnostics, but it does not provide a comprehensive analysis of their sensitivity, specificity, and accuracy. Alternative interpretations of aptamer-based diagnostics should consider these limitations and the potential for false positives or false negatives.\n\n**3. Conflicting evidence from other research:**\n\n1. **Aptamer stability and shelf-life**: Some studies have reported that aptamers can be prone to degradation or denaturation, which may affect their stability and shelf-life. These findings conflict with the paper\\'s assertion that aptamers are stable and have an extended shelf-life.\n2. **Aptamer delivery systems**: Other research has highlighted the challenges associated with delivering aptamers to their target sites, including issues with cellular uptake, tissue penetration, and targeting specificity. These findings conflict with the paper\\'s limited discussion of aptamer delivery systems.\n3. **Aptamer-based therapeutics**: Some studies have reported that aptamer-based therapeutics can be associated with adverse effects, such as immunogenicity or off-target effects. These findings conflict with the paper\\'s presentation of Avacincaptad pegol as a successful example of an aptamer-based therapeutic.\n\nIn conclusion, while the paper provides a comprehensive overview of aptamer development, it has several limitations and potential weaknesses in methodology. Alternative interpretations of the results and conflicting evidence from other research highlight the need for further investigation and consideration of these aspects to fully appreciate the potential of aptamers in various applications."
      },
      "summary":{
         "summary":"**Comprehensive Summary of the Research Paper:**\n\n**Title:** Development of Better Aptamers: Structured Library Approaches, Selection Methods, and Chemical Modifications\n\n**Main Objectives:**\n\nThe main objectives of this review paper are to:\n\n1. Analyze the importance of structured library designs in the development of aptamers.\n2. Review different Systematic Evolution of Ligands by Exponential Enrichment (SELEX) methodologies.\n3. Examine the effects of chemical modifications on aptamer development.\n4. Provide a comprehensive overview of the production of aptamers for applications in drug delivery systems, therapeutics, diagnostics, and molecular imaging.\n\n**Methodology:**\n\nThe authors conducted a comprehensive review of existing literature on aptamer development, focusing on structured library approaches, SELEX methodologies, and chemical modifications. They analyzed the advantages and limitations of different approaches and highlighted recent successes and challenges in the field.\n\n**Key Findings:**\n\n1. Aptamers are single-stranded DNA or RNA sequences that can recognize targets with high specificity and selectivity through structural recognition.\n2. SELEX has been used to generate thousands of aptamers for various targets since its development in 1990.\n3. Structured library designs are crucial for the development of high-affinity aptamers.\n4. Different SELEX methodologies, such as in vitro selection and chemical modifications, can improve aptamer specificity and stability.\n5. Aptamers have been successfully applied in various fields, including drug delivery systems, therapeutics, diagnostics, and molecular imaging.\n6. Recent examples of aptamer-based technologies include the development of a biosensor for L-serine and the approval of Avacincaptad pegol (Izervay) by the FDA for the treatment of geographic atrophy secondary to age-related macular degeneration.\n\n**Conclusions:**\n\nThe authors conclude that aptamers have the potential to revolutionize various fields, including medicine and environmental monitoring. However, further research is needed to overcome the limitations of aptamer development, such as improving specificity and stability. The authors highlight the importance of structured library designs, SELEX methodologies, and chemical modifications in the development of high-affinity aptamers.\n\n**Limitations:**\n\n1. The review paper focuses primarily on the technical aspects of aptamer development, with limited discussion on the clinical and commercial applications of aptamers.\n2. The authors do not provide a comprehensive analysis of the challenges and limitations of aptamer development, such as the potential for off-target effects and the need for large-scale production.\n3. The review paper does not include a detailed discussion on the regulatory frameworks and guidelines for the development and approval of aptamer-based technologies."
      }
   },
   "api_usage":{
      "total_api_calls":5
   }
}
```

The output shows a comprehensive analysis of a research paper, including:
- Detailed validity assessment
- Credibility analysis
- Retraction status check
- Counter-arguments analysis
- Paper summary
- API usage statistics
